(function(e){var t=jQuery.browser.msie&&parseInt(jQuery.browser.version,10)<7&&parseInt(jQuery.browser.version,10)>4;if(t){try{document.execCommand("BackgroundImageCache",false,true)}catch(n){}}if(e.proxy===undefined){e.extend({proxy:function(e,t){if(e){proxy=function(){return e.apply(t||this,arguments)}}return proxy}})}e.extend(e.easing,{easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n}});SliderObject=function(e,t){this.create(e,t)};e.extend(SliderObject.prototype,{version:"1.1.4",create:function(t,n){this.defaults={name:"jquery-slider",navigation:true,selector:true,timer:false,control:true,pauseOnClick:true,pauseOnHover:true,loop:true,slideshow:true,delay:1e4,duration:400,bars:9,columns:7,rows:3,speed:80,padding:8,easing:"easeOutCubic",transition:"random",onComplete:function(){},onSlideshowEnd:function(){}};this.options={};this.transitions=["fade","square","bar","squarerandom","fountain","rain"];this.dom={};this.img=[];this.titles=[];this.links=[];this.imgInc=0;this.imgInterval=0;this.inc=0;this.order=[];this.resto=0;this.selectores=[];this.direction=0;this.degrees=0;this.timer=0;this.slides=[];this.esqueleto={wrapper:[],navigation:[],timer:[],selector:[],control:[],clock:[]};this.events={clicked:false,hovered:false,playing:false,paused:false,stopped:false};this.element=e(t);var r=this.options;var i=this;var s=this.element.children("div");if(s.length<2){return false}if(!n["width"]){n["width"]=0;n["height"]=0;var o={};s.children().each(function(){if(e(this).is("div")){o["width"]=e(this).outerWidth();o["height"]=e(this).outerHeight();n["width"]=o["width"]>=n["width"]?o["width"]:0;n["height"]=o["height"]>=n["height"]?o["height"]:0}});delete o;if(n["width"]==0||n["height"]==0){delete n["width"];delete n["height"]}}this.options=e.extend(true,this.defaults,n);var u=this.options.name+"-option";e.each(["navigation","selector","control","timer"],function(e,t){if(i.options[t]){u+="-"+t}});this.esqueleto.wrapper=this.element.wrap('<div class="'+this.options.name+"-wrapper "+u+'" />').parent();this.esqueleto.wrapper.css({width:this.options.width,height:this.options.height});this.element.css({width:this.options.width,height:this.options.height,overflow:"hidden",position:"relative"});s.each(function(t){if(t==0){e(this).addClass(i.options.name+"-slide-current")}e(this).addClass(i.options.name+"-slide");e(this).addClass(i.options.name+"-slide-"+(t+1));i.selectores=e(i.selectores).add(e('<a href="index.htm#" class="'+i.options.name+'-selector" rel="'+(t+1)+'"><span class="'+i.options.name+"-selector-span "+i.options.name+"-selector-"+(t+1)+'"><span>'+(t+1)+"</span></span></a>"));if(t==0){e(i.selectores).addClass(i.options.name+"-selector-current")}});this.esqueleto.selector=e('<div class="'+this.options.name+'-selectors" />').insertAfter(t);this.esqueleto.selector.append(this.selectores);if(!this.options.selector){this.esqueleto.selector.hide()}else{if(this.rgbToHex(this.esqueleto.selector.css("color"))=="#FFFFFF"){var a=e("."+this.options.name+"-selector").outerWidth(true);a=-(a*s.length/2);this.esqueleto.selector.css({"margin-left":a})}}if(this.options.navigation){this.esqueleto.navigation=e('<div class="'+this.options.name+'-navigation" />').insertAfter(t);var f=e('<a href="index.htm#" class="'+this.options.name+'-navigation-prev" rel="-1"><span>Prev</span></a>');var l=e('<a href="index.htm#" class="'+this.options.name+'-navigation-next" rel="+1"><span>Next</span></a>');this.esqueleto.navigation.append(f,l)}if(this.options.control){this.esqueleto.control=e('<a href="index.htm#" class="'+this.options.name+"-control "+this.options.name+'-control-pause"><span>Play/Pause</span></a>').insertAfter(t)}if(this.options.timer){this.esqueleto.timer=e('<div class="'+this.options.name+'-timer"></div>').insertAfter(t);this.esqueleto.clock.mask=e('<div class="'+this.options.name+'-timer-mask"></div>');this.esqueleto.clock.rotator=e('<div class="'+this.options.name+'-timer-rotator"></div>');this.esqueleto.clock.bar=e('<div class="'+this.options.name+'-timer-bar"></div>');this.esqueleto.clock.command=this.rgbToHex(this.esqueleto.timer.css("color"));this.esqueleto.timer.append(this.esqueleto.clock.mask.append(this.esqueleto.clock.rotator),this.esqueleto.clock.bar)}this.addEvents();if(this.options.slideshow){this.startTimer()}else{this.stopTimer()}},addEvents:function(){var t=this;var n=this.esqueleto.wrapper;var r=this.options;n.hover(function(){n.addClass(r.name+"-hovered");if(r.pauseOnHover&&!t.events.paused){t.events.hovered=true;t.pauseTimer()}},function(){n.removeClass(r.name+"-hovered");if(r.pauseOnHover&&t.events.hovered){t.startTimer()}t.events.hovered=false});this.esqueleto.selector.children("a").click(function(n){if(t.events.playing==false){if(e(this).hasClass(r.name+"-selector-current")==false){var i=t.events.stopped;t.stopTimer();t.callSlide(e(this).attr("rel"));if(!r.pauseOnClick&&!i){t.startTimer()}}}n.preventDefault()});if(r.navigation){this.esqueleto.navigation.children("a").click(function(n){if(t.events.playing==false){var i=t.events.stopped;t.stopTimer();t.callSlide(e(this).attr("rel"));if(!r.pauseOnClick&&!i){t.startTimer()}}n.preventDefault()})}if(r.control){this.esqueleto.control.click(e.proxy(function(e){if(this.events.stopped){this.startTimer()}else{this.stopTimer()}this.events.hovered=false;e.preventDefault()},this))}},startTimer:function(){if(this.options.timer){if(this.esqueleto.clock.command=="#000000"){this.esqueleto.clock.bar.animate({width:"100%"},this.resto>0?this.resto:this.options.delay,"linear",e.proxy(function(){this.callSlide("+1");this.resto=0;this.esqueleto.clock.bar.css({width:0});this.startTimer()},this))}else if(this.esqueleto.clock.command="#FFFFFF"){this.timer=setInterval(e.proxy(function(){var e="rotate("+this.degrees+"deg)";this.degrees+=2;this.esqueleto.clock.rotator.css({"-webkit-transform":e,"-moz-transform":e,"-o-transform":e,transform:e});if(jQuery.browser.msie){this.esqueleto.clock.rotator.get(0).style["msTransform"]=e}if(this.degrees>180){this.esqueleto.clock.rotator.addClass(this.options.name+"-timer-rotator-move");this.esqueleto.clock.mask.addClass(this.options.name+"-timer-mask-move")}if(this.degrees>360){this.esqueleto.clock.rotator.removeClass(this.options.name+"-timer-rotator-move");this.esqueleto.clock.mask.removeClass(this.options.name+"-timer-mask-move");this.degrees=0;this.callSlide("+1");this.resto=0}},this),this.options.delay/180)}if(this.options.control){this.esqueleto.control.removeClass(this.options.name+"-control-play");this.esqueleto.control.addClass(this.options.name+"-control-pause")}}else{if(!this.timer){this.timer=setInterval(e.proxy(function(){this.callSlide("+1")},this),this.options.delay)}}this.events.paused=false;this.events.stopped=false;this.element.trigger("sliderPlay")},pauseTimer:function(){clearInterval(this.timer);this.timer="";if(this.options.timer){this.esqueleto.clock.bar.stop(true);var e=100-parseInt(this.esqueleto.clock.bar.css("width"),10)*100/this.options.width;this.resto=this.options.delay*e/100}this.events.paused=true;if(this.options.control&&!this.events.hovered){this.esqueleto.control.removeClass(this.options.name+"-control-pause");this.esqueleto.control.addClass(this.options.name+"-control-play")}this.element.trigger("sliderPause")},stopTimer:function(){clearInterval(this.timer);this.timer="";if(this.options.timer){this.esqueleto.clock.bar.stop();this.resto=0;if(this.esqueleto.clock.command=="#000000"){this.esqueleto.clock.bar.css({width:0})}else if(this.esqueleto.clock.command=="#FFFFFF"){this.esqueleto.clock.rotator.removeClass(this.options.name+"-timer-rotator-move");this.esqueleto.clock.mask.removeClass(this.options.name+"-timer-mask-move");this.degrees=0;var e="rotate("+this.degrees+"deg)";this.esqueleto.clock.rotator.css({"-webkit-transform":e,"-moz-transform":e,"-o-transform":e,transform:e});if(jQuery.browser.msie){this.esqueleto.clock.rotator.get(0).style["msTransform"]=e}}}this.events.paused=true;this.events.stopped=true;this.events.hovered=false;if(this.options.control){this.esqueleto.control.removeClass(this.options.name+"-control-pause");this.esqueleto.control.addClass(this.options.name+"-control-play")}this.element.trigger("sliderStop")},shuffle:function(e){for(var t,n,r=e.length;r;t=parseInt(Math.random()*r,10),n=e[--r],e[r]=e[t],e[t]=n){}return e},rgbToHex:function(e){if(e.match(/^#[0-9A-Fa-f]{6}$/)){return e.toUpperCase()}var t=/rgb\((.+),(.+),(.+)\)/i.exec(e);if(!t){return e.toUpperCase()}var n=parseInt(t[1]);var r=parseInt(t[2]);var i=parseInt(t[3]);var s=function(e){return((e.length<2?"0":"")+e).toUpperCase()};return("#"+s(n.toString(16))+s(r.toString(16))+s(i.toString(16))).toUpperCase()},callSlide:function(t){if(this.events.playing){return false}var n=this.element.children("."+this.options.name+"-slide-current");var r=this.esqueleto.selector.children("."+this.options.name+"-selector-current");if(t=="+1"){var i=n.next("."+this.options.name+"-slide");var s=r.next();if(i.length<=0){if(this.options.loop){i=this.element.children("."+this.options.name+"-slide").first();s=this.selectores.first("a")}else{this.stopTimer();return false}}}else if(t=="-1"){var i=n.prev("."+this.options.name+"-slide");var s=r.prev("a");if(i.length<=0){i=this.element.children("."+this.options.name+"-slide").last();s=this.selectores.last("a")}}else{var i=this.element.children("."+this.options.name+"-slide-"+t);var s=this.esqueleto.selector.children("."+this.options.name+"-selector[rel="+t+"]")}this.transition(n,r,i,s);this.element.trigger("sliderChange",i);e("#bgSlider").animate({backgroundColor:e(i).attr("href")},450)},transition:function(t,n,r,i){if(e.isArray(this.options.transition)){this.transitions=this.options.transition;this.options.transition="random"}var s=r.attr("class").split(" ")[0].split(this.options.name+"-trans-")[1];if(s===undefined){s=this.options.transition}if(s=="random"){var o="";while(o==this.lastTransition||o==""){o=this.shuffle(this.transitions)[0].toLowerCase()}s=o}s=s.toLowerCase();this.lastTransition=s;this["trans"+s](t,n,r,i)},transfade:function(t,n,r,i){this.events.playing=true;r.css({opacity:1}).addClass(this.options.name+"-slide-next");n.removeClass(this.options.name+"-selector-current");i.addClass(this.options.name+"-selector-current");t.stop().animate({opacity:0},this.options.duration,e.proxy(function(){t.removeClass(this.options.name+"-slide-current");r.addClass(this.options.name+"-slide-current");r.removeClass(this.options.name+"-slide-next");this.element.trigger("sliderTransitionFinishes",r);this.events.playing=false},this))},transbar:function(t,n,r,s,o){o=e.extend(true,{direction:"left"},o);this.events.playing=true;var u={width:Math.round(this.options.width/this.options.bars),height:this.options.height};bar_array=new Array(this.options.bars);if(o["direction"]=="right"){c=0;for(i=this.options.bars;i>0;i--){bar_array[c]=i;c++}}else if(o["direction"]=="left"){for(i=1;i<=this.options.bars;i++){bar_array[i]=i}}else if(o["direction"]=="fountain"||o["direction"]=="rain"){var a=1;var f=parseInt(this.options.bars/2);for(i=1;i<=this.options.bars;i++){bar_array[i-1]=f-parseInt(i/2)*a+1;a*=-1}}e.each(bar_array,e.proxy(function(t,n){position=n*u.width-u.width;bar=e('<div class="'+this.options.name+"-bar "+this.options.name+"-bar-"+n+'"/>');bar.css({position:"absolute",overflow:"hidden",left:position,"z-index":3,opacity:0,"background-position":"-"+position+"px top"}).css(u);if(o["direction"]=="fountain"){bar.css({top:this.options.height})}else if(o["direction"]=="rain"){bar.css({top:-this.options.height})}bar.append('<div style="position: absolute; left: -'+position+"px; width: "+this.options.width+"px; height: "+this.options.height+'px;">'+r.html()+"</div>");this.element.append(bar);delay=this.options.speed*t;bar.animate({opacity:0},delay).animate({opacity:1,top:0},{duration:this.options.duration})},this));n.removeClass(this.options.name+"-selector-current");s.addClass(this.options.name+"-selector-current");setTimeout(e.proxy(function(){r.css({opacity:1}).addClass(this.options.name+"-slide-current");t.css({opacity:0}).removeClass(this.options.name+"-slide-current");this.element.children("."+this.options.name+"-bar").remove();this.events.playing=false;this.element.trigger("sliderTransitionFinishes",r)},this),delay+this.options.duration)},transbarleft:function(e,t,n,r){return this.transbar(e,t,n,r)},transbarright:function(e,t,n,r){return this.transbar(e,t,n,r,{direction:"right"})},transsquare:function(t,n,r,i,s){s=e.extend(true,{mode:"acumulative",effect:"rain"},s);this.events.playing=true;r.css({opacity:1});n.removeClass(this.options.name+"-selector-current");i.addClass(this.options.name+"-selector-current");var o=Math.round(this.options.width/this.options.columns);var u=Math.round(this.options.height/this.options.rows);var a=[];var f=r.html();for(iRow=1;iRow<=this.options.rows;iRow++){for(iCol=1;iCol<=this.options.columns;iCol++){a.push(iCol+""+iRow);var l=iRow*u-u;var c=iCol*o-o;var h=o*iCol-o;var p=u*iRow-u;var d=e('<div class="'+this.options.name+"-block "+this.options.name+"-block-"+iCol+iRow+'" />');d.css({overflow:"hidden",position:"absolute",width:o,height:u,"z-index":3,top:l,left:c,opacity:0,"background-position":"-"+h+"px -"+p+"px"});d.append('<div style="position: absolute; left: -'+h+"px; top: -"+p+"px; width: "+this.options.width+"px; height: "+this.options.height+'px;">'+f+"</div>");this.element.append(d)}}if(s["effect"]=="random"){a=this.shuffle(a)}else if(s["effect"]=="swirl"){a=this.arrayswirl(a)}if(s["mode"]=="acumulative"){var v=0;for(iRow=1;iRow<=this.options.rows;iRow++){colRow=iRow;for(iCol=1;iCol<=this.options.columns;iCol++){delay=this.options.speed*colRow;this.element.children("."+this.options.name+"-block-"+a[v]).animate({width:o},delay).animate({opacity:1},this.options.duration);v++;colRow++}}}else if(s["mode"]=="dual"){e.each(a,e.proxy(function(e,t){delay=this.options.speed*e;this.element.children("."+this.options.name+"-block-"+t).animate({width:o},delay).animate({opacity:1},this.options.duration)},this))}else if(s["mode"]=="lineal"){e.each(a,e.proxy(function(e,t){delay=this.options.speed*e;this.element.children("."+this.options.name+"-block-"+t).animate({width:o},delay).animate({opacity:1},this.options.duration)},this))}setTimeout(e.proxy(function(){r.css({opacity:1}).addClass(this.options.name+"-slide-current");t.css({opacity:0}).removeClass(this.options.name+"-slide-current");this.element.children("."+this.options.name+"-block").remove();this.events.playing=false;this.element.trigger("sliderTransitionFinishes",r)},this),delay+this.options.duration)},transsquarerandom:function(e,t,n,r){return this.transsquare(e,t,n,r,{effect:"random"})},transslide:function(t,n,r,i,s){s=e.extend(true,{direction:"left"},s);this.events.playing=true;r.css({opacity:1});n.removeClass(this.options.name+"-selector-current");i.addClass(this.options.name+"-selector-current");t.removeClass(this.options.name+"-slide-current");t.addClass(this.options.name+"-slide-next");r.addClass(this.options.name+"-slide-current");if(s.direction=="left"){r.css({left:this.options.width})}else if(s.direction=="right"){r.css({left:-this.options.width})}else if(s.direction=="top"){r.css({top:-this.options.height})}else if(s.direction=="bottom"){r.css({top:this.options.height})}r.stop().animate({left:0,top:0},this.options.duration,this.options.easing,e.proxy(function(){t.removeClass(this.options.name+"-slide-next");t.css({opacity:0});this.events.playing=false;this.element.trigger("sliderTransitionFinishes",r)},this))},transslideleft:function(e,t,n,r){return this.transslide(e,t,n,r,{direction:"left"})},transslideright:function(e,t,n,r){return this.transslide(e,t,n,r,{direction:"right"})},transslidetop:function(e,t,n,r){return this.transslide(e,t,n,r,{direction:"top"})},transslidebottom:function(e,t,n,r){return this.transslide(e,t,n,r,{direction:"bottom"})},transfountain:function(e,t,n,r){return this.transbar(e,t,n,r,{direction:"fountain"})},transrain:function(e,t,n,r){return this.transbar(e,t,n,r,{direction:"rain"})},transexplode:function(t,n,r,i,s){s=e.extend(true,{mode:"acumulative",effect:"rain"},s);this.events.playing=true;r.css({opacity:0});n.removeClass(this.options.name+"-selector-current");i.addClass(this.options.name+"-selector-current");var o=Math.round(this.options.width/this.options.columns);var u=Math.round(this.options.height/this.options.rows);var a=[];var f=r.html();for(iRow=1;iRow<=this.options.rows;iRow++){for(iCol=1;iCol<=this.options.columns;iCol++){a.push(iCol+""+iRow);var l=iRow*u-u;var c=iCol*o-o;var h=o*iCol-o;var p=u*iRow-u;var d=(iCol-parseInt((this.options.columns+1)/2))*this.options.padding;var v=(iRow-parseInt((this.options.rows+1)/2))*this.options.padding;var m=e('<div class="'+this.options.name+"-block-clon "+this.options.name+"-block-clon-"+iCol+iRow+'" />');m.css({overflow:"hidden",position:"absolute",width:o,height:u,"z-index":2,top:l+v,left:c+d,opacity:0,"background-position":"-"+h+"px -"+p+"px"});m.append('<div style="position: absolute; left: -'+h+"px; top: -"+p+"px; width: "+this.options.width+"px; height: "+this.options.height+'px;">'+f+"</div>");this.element.append(m);var m=e('<div class="'+this.options.name+"-block "+this.options.name+"-block-"+iCol+iRow+'" />');m.css({overflow:"hidden",position:"absolute",width:o,height:u,"z-index":3,top:l,left:c,opacity:1,"background-position":"-"+h+"px -"+p+"px"});m.append('<div style="position: absolute; left: -'+h+"px; top: -"+p+"px; width: "+this.options.width+"px; height: "+this.options.height+'px;">'+t.html()+"</div>");this.element.append(m)}}t.css({opacity:0});if(s["effect"]=="random"){a=this.shuffle(a)}else if(s["effect"]=="swirl"){a=this.arrayswirl(a)}for(iRow=1;iRow<=this.options.rows;iRow++){colRow=iRow;for(iCol=1;iCol<=this.options.columns;iCol++){delay=this.options.speed*colRow;var d=(iCol-parseInt((this.options.columns+1)/2))*this.options.padding;var v=(iRow-parseInt((this.options.rows+1)/2))*this.options.padding;this.element.children("."+this.options.name+"-block-"+iCol+""+iRow).animate({left:"+="+d,top:"+="+v},this.options.duration);colRow++}}var g=delay;var y=0;for(iRow=1;iRow<=this.options.rows;iRow++){colRow=iRow;for(iCol=1;iCol<=this.options.columns;iCol++){delay=this.options.speed*colRow;this.element.children("."+this.options.name+"-block-"+a[y]).animate({opacity:0},delay);this.element.children("."+this.options.name+"-block-clon-"+a[y]).animate({width:o},this.options.duration).animate({opacity:1},delay).animate({width:o},g-delay);y++;colRow++}}for(iRow=1;iRow<=this.options.rows;iRow++){colRow=iRow;for(iCol=1;iCol<=this.options.columns;iCol++){delay=this.options.speed*colRow;var d=(iCol-parseInt((this.options.columns+1)/2))*this.options.padding;var v=(iRow-parseInt((this.options.rows+1)/2))*this.options.padding;this.element.children("."+this.options.name+"-block-clon-"+iCol+""+iRow).animate({left:"-="+d,top:"-="+v},this.options.duration);colRow++}}setTimeout(e.proxy(function(){r.css({opacity:1}).addClass(this.options.name+"-slide-current");t.css({opacity:0}).removeClass(this.options.name+"-slide-current");this.element.children("."+this.options.name+"-block").remove();this.element.children("."+this.options.name+"-block-clon").remove();this.events.playing=false;this.element.trigger("sliderTransitionFinishes",r)},this),g+this.options.duration*2)},transexploderandom:function(e,t,n,r){return this.transexplode(e,t,n,r,{effect:"random"})}});e.fn.slideshow=function(t,n){if(parseFloat(e.fn.jquery)>1.2){var r={};this.each(function(){var i=e(this);r=i.data("slider");if(!r){r=new SliderObject(this,t,n);i.data("slider",r)}});return r}else{throw"The jQuery version that was loaded is too old. Slider Evolution requires jQuery 1.3+"}}})(jQuery)
(function(e){e.fn.flexisel=function(t){var n=e.extend({visibleItems:4,animationSpeed:200,autoPlay:false,autoPlaySpeed:3e3,pauseOnHover:true,setMaxWidthAndHeight:false,enableResponsiveBreakpoints:false,responsiveBreakpoints:{portrait:{changePoint:480,visibleItems:1},landscape:{changePoint:640,visibleItems:2},tablet:{changePoint:768,visibleItems:3}}},t);var r=e(this);var i=e.extend(n,t);var s;var o=true;var u=i.visibleItems;var a={init:function(){return this.each(function(){a.appendHTML();a.setEventHandlers();a.initializeItems()})},initializeItems:function(){var t=r.parent();var n=t.height();var i=r.children();var o=t.width();s=o/u;i.width(s);i.last().insertBefore(i.first());i.last().insertBefore(i.first());r.css({left:-s});r.fadeIn();e(window).trigger("resize")},appendHTML:function(){r.addClass("nbs-flexisel-ul");r.wrap("<div class='nbs-flexisel-container'><div class='nbs-flexisel-inner'></div></div>");r.find("li").addClass("nbs-flexisel-item");if(i.setMaxWidthAndHeight){var t=e(".nbs-flexisel-item > img").width();var n=e(".nbs-flexisel-item > img").height();e(".nbs-flexisel-item > img").css("max-width",t);e(".nbs-flexisel-item > img").css("max-height",n)}e("<div class='nbs-flexisel-nav-left'></div><div class='nbs-flexisel-nav-right'></div>").insertAfter(r);var s=r.children().clone();r.append(s)},setEventHandlers:function(){var t=r.parent();var n=r.children();var f=t.find(e(".nbs-flexisel-nav-left"));var l=t.find(e(".nbs-flexisel-nav-right"));e(window).on("resize",function(i){a.setResponsiveEvents();var o=e(t).width();var c=e(t).height();s=o/u;n.width(s);r.css({left:-s});var h=f.height()/2;var p=c/2-h;f.css("top",p+"px");l.css("top",p+"px")});e(f).on("click",function(e){a.scrollLeft()});e(l).on("click",function(e){a.scrollRight()});if(i.pauseOnHover==true){e(".nbs-flexisel-item").on({mouseenter:function(){o=false},mouseleave:function(){o=true}})}if(i.autoPlay==true){setInterval(function(){if(o==true)a.scrollRight()},i.autoPlaySpeed)}},setResponsiveEvents:function(){var t=e("html").width();if(i.enableResponsiveBreakpoints==true){if(t<i.responsiveBreakpoints.portrait.changePoint){u=i.responsiveBreakpoints.portrait.visibleItems}else if(t>i.responsiveBreakpoints.portrait.changePoint&&t<i.responsiveBreakpoints.landscape.changePoint){u=i.responsiveBreakpoints.landscape.visibleItems}else if(t>i.responsiveBreakpoints.landscape.changePoint&&t<i.responsiveBreakpoints.tablet.changePoint){u=i.responsiveBreakpoints.tablet.visibleItems}else{u=i.visibleItems}}},scrollLeft:function(){if(o==true){o=false;var e=r.parent();var t=e.width();s=t/u;var n=r.children();r.animate({left:"+="+s},{queue:false,duration:i.animationSpeed,easing:"linear",complete:function(){n.last().insertBefore(n.first());a.adjustScroll();o=true}})}},scrollRight:function(){if(o==true){o=false;var e=r.parent();var t=e.width();s=t/u;var n=r.children();r.animate({left:"-="+s},{queue:false,duration:i.animationSpeed,easing:"linear",complete:function(){n.first().insertAfter(n.last());a.adjustScroll();o=true}})}},adjustScroll:function(){var e=r.parent();var t=r.children();var n=e.width();s=n/u;t.width(s);r.css({left:-s})}};if(a[t]){return a[t].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof t==="object"||!t){return a.init.apply(this)}else{e.error('Method "'+method+'" does not exist in flexisel plugin!')}}})(jQuery)